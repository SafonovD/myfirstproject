<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <title>Редактирование пользователя</title>

    <div th:replace="fragments/header :: header-css"></div>
</head>
<body>

<div th:replace="fragments/header :: header"></div>
<!-- container body -->
<div class="container-fluid text-center">
    <div class="row content">
        <div class="col-sm-2 sidenav">
            <p><a sec:authorize="hasAnyRole('ROLE_ADMIN')" th:href="@{/user}">Список пользователей</a></p>
            <p><a sec:authorize="hasAnyRole('ROLE_ADMIN')" th:href="@{/admin}">Загрузка тестов</a></p>
            <p><a th:href="@{/theme}">Темы тестирования</a></p>
        </div>
        <div class="col-sm-8 text-left">
            <h2>Ретактирование</h2>
            <br>
            <form th:action="@{/user/update}" method="post" th:object="${useredit}">
                <div>
                    <table class="table thead-light">
                        <thead class="table-bordered">
                        <tr>
                            <th>Логин</th>
                            <th>Имя</th>
                            <th>Фамилия</th>
                            <th>Email</th>
                            <th>Пароль</th>
                            <th>Права</th>
                            <th>сохранить</th>
                        </tr>
                        </thead>
                        <tbody class="table-bordered" >
                        <tr>
                            <td><input class="form-control" type="text" name="username" th:value="${useredit.username}"
                                       th:fild="${useredit.username}"/></td>
                            <td><input class="form-control" type="text" name="firstname" th:value="${useredit.firstName}"
                                       th:field="${useredit.firstName}"/></td>
                            <td><input class="form-control" type="text" name="lastname" th:value="${useredit.lastName}"
                                       th:field="${useredit.lastName}"/></td>
                            <td><input class="form-control" type="email" name="email" th:value="${useredit.email}"
                                       th:field="${useredit.email}"/></td>
                            <td><input class="form-control" type="password" name="password" th:value="${useredit.password}"
                                       th:field="${useredit.password}"/></td>
                            <td>
                                <div class="custom-control custom-checkbox custom-control-inline" th:each="rol : ${roleList}"
                                     th:value="${rol.id}">
                                    <input type="checkbox" class="custom-control-input" id="customCheck"
                                           th:field="${useredit.roles}"
                                           th:value="${rol.id}">
                                    <label class="custom-control-inline" th:text="${rol.name}" for="customCheck"></label>
                                </div>
                            </td>
                            <td>
                                <input type="hidden" name="id" th:field="*{id}"/>
                                <input class="btn btn-primary" type="submit" value="Update"/>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </form>
            <hr>
        </div>
        <div class="col-sm-2 sidenav">
            <div class="well">
                <p>Рекламный блок</p>
            </div>
            <div class="well">
                <p>Рекламный блок</p>
            </div>
        </div>
    </div>
</div>
<!-- /.container -->
<div th:replace="fragments/footer :: footer"></div>
</body>
</html>
